<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>
<body style="width: 100%; height: 100%;">
    <div ontouchmove="touchMove(event)" style="width: 100%; height: 100%; background-color: red;"></div>
</body>
<script>
    var isTouch = 'ontouchstart' in window || navigator.msMaxTouchPoints;

    var last = {
        x : 0,
        y : 0
    };

    var dupa = function(e) {
        $.post("/rest/mouse/move", {
            x : e.pageX - last.x,
            y : e.pageY - last.y
        });
        last.x = e.pageX;
        last.y = e.pageY;
    };
    if (!isTouch) {
        $("div").mousemove(dupa);
    } else {
        setInterval(function() {
            if (last.x && last.y) {
                $.post("/rest/mouse/move", {
                    x : parseInt(last.x / 100),
                    y : parseInt(last.y / 100)
                });
                last = {
                    x : 0,
                    y : 0
                };
            }
        }, 30);
    }

    $("div").mousedown(function() {
        $.post("/rest/mouse/press", {
            key : 1
        });
    });

    $("div").mouseup(function() {
        $.post("/rest/mouse/release", {
            key : 1
        });
    });

    function touchMove(event) {
        var x = event.touches[0].clientX - $(window).width() / 2;
        var y = event.touches[0].clientY - $(window).height() / 2;
        console.log(x, y);
        last.x += x;
        last.y += y;
    }
</script>
</html>